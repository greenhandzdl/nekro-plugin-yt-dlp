# NekroAgent yt-dlp 插件

这是一个为 [NekroAgent](https://github.com/Nekro-Development/Nekro) 设计的插件，它利用强大的 `yt-dlp` 工具，让 AI 能够搜索和下载在线视频与音频。

## ✨ 功能特性

- **在线搜索**：通过关键词在支持的网站（默认为 YouTube）上搜索视频。
- **信息提取**：获取视频的详细信息，如标题、时长、格式等。
- **灵活下载**：根据用户指定的格式（如 mp3, mp4）下载内容。
- **高度可配**：支持通过网页界面配置代理、Cookies、下载格式和超时时间。
- **自动清理**：下载任务完成后自动清理临时文件。

## 🚀 快速开始

1. **安装插件**：
   - 在 NekroAgent 的插件市场中搜索 `nekro_yt_dlp` 并安装。

2. **配置插件**：
   - 前往插件配置页面。
   - **Cookies** (可选): 如果需要访问需要登录的网站，请提供 Cookies 文件的路径。
   - **代理** (可选): 如果需要通过代理服务器下载，请启用此选项。
   - **下载格式**: 设置默认的下载格式 (例如 `mp3`, `bestvideo`)。
   - **默认搜索引擎**: 设置默认的搜索引擎 (例如 `ytsearch`, `bilibili search`)。
   - **超时时间**: 设置下载的超时秒数。

3. **使用插件**：
   - 在与 Agent 的对话中，使用自然语言提出你的需求，例如：
     - "帮我搜索一下关于 NekroAgent 的视频"
     - "下载这个视频的 MP3 音频：[视频链接]"

## 🛠️ 开发者

### 安装依赖

本项目使用 `uv` 进行依赖管理。

```bash
# 安装 uv
curl -LsSf https://astral.sh/uv/install.sh | sh

# 同步依赖
uv sync
```

### 项目结构

- `__init__.py`: 插件的主逻辑文件。
- `pyproject.toml`: 项目元数据和依赖项。
- `README.md`: 插件说明文档。

## 📄 许可证

MIT